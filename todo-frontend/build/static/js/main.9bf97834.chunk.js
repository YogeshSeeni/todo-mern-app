(this["webpackJsonptodo-frontend"]=this["webpackJsonptodo-frontend"]||[]).push([[0],{36:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(30),s=n.n(c),o=(n(36),n(15)),l=n(3),i=n(7),u=n(2),d=n.n(u),b=n(4),j=n(5),p=n(12),h=n.n(p),v="https://mern-todos-api.herokuapp.com/",x=function(){var e=Object(b.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t,email:n,password:r},e.prev=1,e.next=4,h.a.post(v+"api/user/register",a);case 4:return e.sent,e.abrupt("return","Success");case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(b.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t,password:n},e.prev=1,e.next=4,h.a.post(v+"api/user/login",r);case 4:return a=e.sent,e.abrupt("return",[!0,a.data.token]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[!1,e.t0.response.data]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"auth-token":t},e.prev=1,e.next=4,h.a.get(v+"verifytoken",{headers:n});case 4:return e.sent,e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"auth-token":t},e.prev=1,e.next=4,h.a.get(v+"todo/gettodos",{headers:n});case 4:return r=e.sent,e.abrupt("return",[!0,r.data]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[!1,e.t0.response.data]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={"auth-token":t},a={body:n},e.prev=2,e.next=5,h.a.post(v+"todo/addtodo",a,{headers:r});case 5:return e.sent,e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={"auth-token":t},a={id:n},e.prev=2,e.next=5,h.a.delete(v+"todo/deletetodo",{data:a,headers:r});case 5:return e.sent,e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(d.a.mark((function e(t,n,r){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"auth-token":t},c={id:n,body:r},e.prev=2,e.next=5,h.a.put(v+"todo/updatetodo",c,{headers:a});case 5:return e.sent,e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),y=n(0);function S(e){e.completion;var t=e.body,n=e.id,r=new i.a,a=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=prompt("What would you like to update this todo to?","Updated Text"))&&""!=t){e.next=5;break}alert("Need to specify updated message"),e.next=16;break;case 5:return e.next=7,w(r.get("token"),n,t);case 7:return a=e.sent,e.next=10,a;case 10:if(e.t0=e.sent,1!=e.t0){e.next=15;break}window.location.reload(),e.next=16;break;case 15:alert("Could not update this todo");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r.get("token"),n);case 2:return t=e.sent,e.next=5,t;case 5:if(e.t0=e.sent,1!=e.t0){e.next=10;break}window.location.reload(),e.next=11;break;case 10:alert("Could not delete this todo");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("li",{class:"list-group-item",children:[t,Object(y.jsx)("button",{type:"button",class:"btn btn-danger deletetodo",onClick:c,children:Object(y.jsx)("span",{class:"fas fa-trash","aria-hidden":"true"})}),Object(y.jsx)("button",{type:"button",class:"btn btn-light edittodo",onClick:a,children:Object(y.jsx)("span",{class:"fas fa-pencil-alt","aria-hidden":"true"})})]})}function C(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(j.a)(c,2),o=s[0],u=s[1],p=new i.a,h=Object(l.f)(),v=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0==p.get("token")&&h.push("/login"),e.next=3,O(p.get("token"));case 3:if(e.t0=e.sent,0!=e.t0){e.next=8;break}p.remove("token",{path:"/"}),h.push("/login"),window.location.reload();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(),e.next=3,g(p.get("token"));case 3:return t=e.sent,u(t),e.next=7,o[0];case 7:if(e.t0=e.sent,0!=e.t0){e.next=10;break}k("Sorry, we were not able to retrieve your todos. Try again later.");case 10:a(!1);case 11:case"end":return e.stop()}}),e)}))),[]);var x=Object(r.useState)(""),f=Object(j.a)(x,2),m=f[0],k=f[1];return Object(y.jsxs)("div",{class:"container",children:[m?Object(y.jsx)("div",{class:"alert alert-danger",role:"alert",children:m}):null,n?Object(y.jsx)("div",{class:"spinner-border text-primary view-loading",role:"status",children:Object(y.jsx)("span",{class:"sr-only",children:"Loading..."})}):Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Hello There,"}),Object(y.jsx)("div",{class:"card",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{class:"card-header",children:"Your Todos:"}),Object(y.jsx)("ul",{class:"list-group list-group-flush",children:o[1].map((function(e,t){return Object(y.jsx)(S,{body:e.body,id:e.id,completion:e.completion})}))})]})})]})]})}function E(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(j.a)(c,2),o=s[0],u=s[1],p=Object(r.useState)(""),h=Object(j.a)(p,2),v=h[0],x=h[1],O=Object(r.useState)(""),g=Object(j.a)(O,2),m=g[0],k=g[1],w=Object(r.useState)(!1),S=Object(j.a)(w,2),C=S[0],E=S[1],T=new i.a,D=Object(l.f)();void 0!=T.get("token")&&D.push("/");var L=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f(v,m);case 3:return n=e.sent,r=new Date,C?r.setDate(r.getDate()+7):r.setTime(r.getTime()+18e5),e.next=8,n[0];case 8:if(e.t0=e.sent,1!=e.t0){e.next=16;break}u(""),a("Logged In"),T.set("token",n[1],{path:"/",expires:r}),window.location.reload(),e.next=22;break;case 16:return a(""),e.t1=u,e.next=20,n[1];case 20:e.t2=e.sent,(0,e.t1)(e.t2);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{class:"container",children:[n?Object(y.jsx)("div",{class:"alert alert-success",role:"alert",children:n}):null,o?Object(y.jsx)("div",{class:"alert alert-danger",role:"alert",children:o}):null,Object(y.jsx)("h2",{children:"Login Page"}),Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{class:"form-group",children:[Object(y.jsx)("label",{children:"Email:"}),Object(y.jsx)("input",{type:"email",class:"form-control",placeholder:"Enter email",value:v,onChange:function(e){return x(e.target.value)}})]}),Object(y.jsxs)("div",{class:"form-group",children:[Object(y.jsx)("label",{children:"Password:"}),Object(y.jsx)("input",{type:"password",class:"form-control",placeholder:"Enter password",value:m,onChange:function(e){return k(e.target.value)}})]}),Object(y.jsxs)("div",{class:"form-group",children:[Object(y.jsxs)("div",{class:"form-check",children:[Object(y.jsx)("input",{type:"checkbox",class:"form-check-input",checked:C,onChange:function(){return E(!C)}}),Object(y.jsx)("label",{class:"form-check-label",children:"Remember Me"})]}),Object(y.jsx)("button",{type:"submit",class:"btn btn-primary",onClick:L,children:"Login!"})]})]})]})}function T(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(j.a)(c,2),o=s[0],u=s[1],p=Object(r.useState)(""),h=Object(j.a)(p,2),v=h[0],f=h[1],O=Object(r.useState)(""),g=Object(j.a)(O,2),m=g[0],k=g[1],w=Object(r.useState)(""),S=Object(j.a)(w,2),C=S[0],E=S[1],T=new i.a,D=Object(l.f)();void 0!=T.get("token")&&D.push("/");var L=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x(v,m,C);case 3:return n=e.sent,e.next=6,n;case 6:if(e.t0=e.sent,"Success"!=e.t0){e.next=16;break}return u(""),e.t1=a,e.next=12,n;case 12:e.t2=e.sent,(0,e.t1)(e.t2),e.next=22;break;case 16:return a(""),e.t3=u,e.next=20,n;case 20:e.t4=e.sent,(0,e.t3)(e.t4);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{class:"container",children:[n?Object(y.jsx)("div",{class:"alert alert-success",role:"alert",children:n}):null,o?Object(y.jsx)("div",{class:"alert alert-danger",role:"alert",children:o}):null,Object(y.jsx)("h2",{children:"Sign Up Page"}),Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{class:"form-group",children:[Object(y.jsx)("label",{children:"Name:"}),Object(y.jsx)("input",{type:"text",class:"form-control",placeholder:"Enter name",value:v,onChange:function(e){return f(e.target.value)}})]}),Object(y.jsxs)("div",{class:"form-group",children:[Object(y.jsx)("label",{children:"Email:"}),Object(y.jsx)("input",{type:"email",class:"form-control",placeholder:"Enter email",value:m,onChange:function(e){return k(e.target.value)}})]}),Object(y.jsxs)("div",{class:"form-group",children:[Object(y.jsx)("label",{children:"Password:"}),Object(y.jsx)("input",{type:"password",class:"form-control",placeholder:"Enter password",value:C,onChange:function(e){return E(e.target.value)}})]}),Object(y.jsx)("div",{class:"form-group",children:Object(y.jsx)("button",{type:"submit",class:"btn btn-primary",onClick:L,children:"Sign Up!"})})]})]})}function D(){var e=new i.a,t=Object(l.f)(),n=function(){var n=Object(b.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0==e.get("token")&&t.push("/login"),n.next=3,O(e.get("token"));case 3:if(n.t0=n.sent,0!=n.t0){n.next=8;break}e.remove("token",{path:"/"}),t.push("/login"),window.location.reload();case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){n()}),[]);var a=Object(r.useState)(""),c=Object(j.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(""),p=Object(j.a)(u,2),h=p[0],v=p[1],x=Object(r.useState)(""),f=Object(j.a)(x,2),g=f[0],k=f[1],w=function(){var t=Object(b.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!=g){t.next=4;break}return v("Message cannot be empty"),t.abrupt("return");case 4:return t.next=6,m(e.get("token"),g);case 6:return r=t.sent,t.next=9,r;case 9:if(t.t0=t.sent,1!=t.t0){t.next=15;break}v(""),o('Added todo with message: "'.concat(g,'"')),t.next=17;break;case 15:o(""),v("Could not add todo.");case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)("div",{class:"container",children:[s?Object(y.jsx)("div",{class:"alert alert-success",role:"alert",children:s}):null,h?Object(y.jsx)("div",{class:"alert alert-danger",role:"alert",children:h}):null,Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{class:"form-group",children:[Object(y.jsx)("label",{children:"Add Todo:"}),Object(y.jsx)("input",{type:"text",class:"form-control",placeholder:"Enter todo",value:g,onChange:function(e){return k(e.target.value)}})]}),Object(y.jsx)("div",{class:"form-group",children:Object(y.jsx)("button",{type:"submit",class:"btn btn-primary",onClick:w,children:"Add Todo!"})})]})]})}function L(){return(new i.a).remove("token",{path:"/"}),Object(l.f)().push("/login"),window.location.reload(),Object(y.jsx)("div",{children:"asdf"})}var N=function(){var e=new i.a;return Object(y.jsxs)(o.a,{children:[Object(y.jsx)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:Object(y.jsxs)("div",{class:"container-fluid",children:[Object(y.jsx)("a",{class:"navbar-brand",href:"#",children:"MERN APP"}),Object(y.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(y.jsx)("span",{class:"navbar-toggler-icon"})}),Object(y.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:[void 0!=e.get("token")?Object(y.jsxs)("ul",{class:"navbar-nav",children:[Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)("a",{class:"nav-link","aria-current":"page",href:"/",children:"Todos"})}),Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)("a",{class:"nav-link",href:"/addtodo",children:"Add Todos"})})]}):null,void 0==e.get("token")?Object(y.jsxs)("ul",{class:"navbar-nav ms-auto",children:[Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)("a",{class:"nav-link",href:"/login",children:"Login"})}),Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)("a",{class:"nav-link",href:"/signup",children:"Signup"})})]}):null,void 0!=e.get("token")?Object(y.jsx)("ul",{class:"navbar-nav ms-auto",children:Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)("a",{class:"nav-link",href:"/logout",children:"Logout"})})}):null]})]})}),Object(y.jsxs)(l.c,{children:[Object(y.jsx)(l.a,{path:"/login",children:Object(y.jsx)(E,{})}),Object(y.jsx)(l.a,{path:"/signup",children:Object(y.jsx)(T,{})}),Object(y.jsx)(l.a,{path:"/logout",children:Object(y.jsx)(L,{})}),Object(y.jsx)(l.a,{path:"/addtodo",children:Object(y.jsx)(D,{})}),Object(y.jsx)(l.a,{path:"/",children:Object(y.jsx)(C,{})})]})]})};s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(N,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.9bf97834.chunk.js.map